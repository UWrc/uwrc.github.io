{
  // Configuration for the site preview codespace
  "name": "Site Preview",
  // Uses the docker node base image
  "image": "node:latest",
  "customizations": {
    "vscode": {
      // Install useful extensions to VSCode
      "extensions": [
	      // Spell check, with Hyak already added to the dictionary
        "streetsidesoftware.code-spell-checker",
        // Markdown shortcuts and utilities
        "yzhang.markdown-all-in-one",
        // Better markdown preview
        "shd101wyy.markdown-preview-enhanced"
      ]
    }
  },
  // Set NODE_OPTIONS as required by the readme
  "containerEnv": {
    "NODE_OPTIONS": "--openssl-legacy-provider"
  },
  // Commands that run when the codespace is built
  "onCreateCommand": "apt update && (apt install nano; apt install gh); gh repo set-default UWrc/UWrc.github.io; yarn install",
                      // Update app repos so we can install, if this fails skip the apt installs
                      // Install nano text editor
                      // Install github cli for syncing the fork and doing a PR from cli
                      // Set default repo to UWrc/UWrc.github.io
                      // Install all of the yarn/js dependencies
  // Whenever the codespace starts up sync the fork to UWrc
  "postStartCommand": "gh repo sync $(git config --get remote.origin.url)",
  // Once the terminal attaches to the container create aliases for syncing the fork and submitting a pull request
  "postAttachCommand": "alias sync='gh repo sync $(git config --get remote.origin.url)'; alias pr='gh pr create --label documentation --title'"
}
